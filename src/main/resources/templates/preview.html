<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Application Preview</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<div class="container">
  <h3 class="mb-4">Application Preview</h3>

  <div class="card p-3 mb-3">
    <h5>Personal Information</h5>
    <p><strong>Name:</strong> <span id="previewName"></span></p>
    <p><strong>Email:</strong> <span id="previewEmail"></span></p>
    <p><strong>Phone:</strong> <span id="previewPhone"></span></p>
    <p><strong>Date of Birth:</strong> <span id="previewDob"></span></p>
  </div>

  <div class="card p-3 mb-3">
    <h5>Application Details</h5>
    <p><strong>Course:</strong> <span id="previewCourse"></span></p>
    <p><strong>Institute:</strong> <span id="previewInstitute"></span></p>
    <p><strong>Category:</strong> <span id="previewCategory"></span></p>
    <!-- Add more fields as needed -->
  </div>

  <form action="/finalSubmit" method="post">
    <!-- Hidden inputs to carry the form data forward -->
    <input type="hidden" name="name" id="inputName">
    <input type="hidden" name="email" id="inputEmail">
    <input type="hidden" name="phone" id="inputPhone">
    <input type="hidden" name="dob" id="inputDob">
    <input type="hidden" name="course" id="inputCourse">
    <input type="hidden" name="institute" id="inputInstitute">
    <input type="hidden" name="category" id="inputCategory">

    <button type="submit" class="btn btn-success mt-3">Submit Application</button>
  </form>
</div>

<script>
  // Simulated data â€” replace with actual session/localStorage or server-provided data
  const formData = JSON.parse(localStorage.getItem("applicationForm")) || {};

  // Populate preview fields
  document.getElementById("previewName").textContent = formData.name || '';
  document.getElementById("previewEmail").textContent = formData.email || '';
  document.getElementById("previewPhone").textContent = formData.phone || '';
  document.getElementById("previewDob").textContent = formData.dob || '';
  document.getElementById("previewCourse").textContent = formData.course || '';
  document.getElementById("previewInstitute").textContent = formData.institute || '';
  document.getElementById("previewCategory").textContent = formData.category || '';

  // Populate hidden form fields for submission
  document.getElementById("inputName").value = formData.name || '';
  document.getElementById("inputEmail").value = formData.email || '';
  document.getElementById("inputPhone").value = formData.phone || '';
  document.getElementById("inputDob").value = formData.dob || '';
  document.getElementById("inputCourse").value = formData.course || '';
  document.getElementById("inputInstitute").value = formData.institute || '';
  document.getElementById("inputCategory").value = formData.category || '';
</script>

</body>
</html>
